<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SMART WAREHOUSE V2.0 - CPO Simulation [V.20.05]</title>

    <!-- FONTS -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Orbitron:wght@500;700;900&family=Rajdhani:wght@500;700&display=swap"
        rel="stylesheet">

    <!-- STYLES -->
    <link rel="stylesheet" href="css/rm_stock_v2.css">
    <link rel="stylesheet" href="homepage-style.css">

    <style>
        /* CPO SIMULATION SPECIFIC STYLES */
        body {
            background-color: #050505;
            color: #fff;
            overflow-x: hidden;
        }

        .navbar {
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            position: sticky;
            top: 0;
            background: rgba(5, 5, 5, 0.95);
            z-index: 1000;
        }

        .sim-container {
            padding: 30px 40px;
            max-width: 1800px;
            margin: 0 auto;
        }

        .page-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .page-title {
            font-family: 'Orbitron';
            color: #ff9e0b;
            font-size: 1.8rem;
            letter-spacing: 2px;
            text-shadow: 0 0 20px rgba(255, 158, 11, 0.3);
            margin-bottom: 5px;
        }

        .page-subtitle {
            font-family: 'Rajdhani';
            color: #64748b;
            font-size: 0.9rem;
            letter-spacing: 4px;
            text-transform: uppercase;
        }

        /* GRID LAYOUT */
        .engine-layout {
            display: grid;
            grid-template-columns: 3fr 1.5fr;
            gap: 30px;
        }

        .engine-panel {
            background: rgba(10, 10, 10, 0.6);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 25px;
            height: 100%;
        }

        .panel-title-bar {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 25px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding-bottom: 15px;
        }

        .panel-title {
            font-family: 'Orbitron';
            color: #cbd5e1;
            font-size: 1rem;
            text-transform: uppercase;
        }

        /* TANK SELECTION GRID */
        .tank-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
        }

        .tank-select-card {
            width: 120px;
            height: 100px;
            border: 1px solid #ff9e0b;
            border-radius: 8px;
            background: rgba(255, 158, 11, 0.05);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            position: relative;
            transition: all 0.2s;
        }

        .tank-select-card:hover {
            background: rgba(255, 158, 11, 0.1);
            box-shadow: 0 0 15px rgba(255, 158, 11, 0.2);
        }

        .tank-select-card.selected {
            background: rgba(255, 158, 11, 0.2);
            box-shadow: inset 0 0 10px rgba(255, 158, 11, 0.4);
            border-width: 2px;
        }

        .tank-card-num {
            position: absolute;
            top: 5px;
            right: 5px;
            background: #ff9e0b;
            color: #000;
            font-size: 0.6rem;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .tank-card-name {
            font-family: 'Orbitron';
            font-weight: bold;
            color: #ff9e0b;
            font-size: 1rem;
            margin-bottom: 5px;
        }

        .tank-card-stock {
            font-family: 'Rajdhani';
            color: #cbd5e1;
            font-size: 0.8rem;
        }

        /* PRIORITY LIST */
        .priority-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-bottom: 30px;
        }

        .priority-item {
            display: flex;
            align-items: center;
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid #333;
            border-radius: 6px;
            padding: 10px 15px;
        }

        .p-num {
            width: 24px;
            height: 24px;
            background: #333;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 0.7rem;
            margin-right: 15px;
            font-family: 'Orbitron';
        }

        .p-name {
            flex: 1;
            font-family: 'Orbitron';
            color: #ff9e0b;
            font-weight: bold;
        }

        .p-controls {
            display: flex;
            flex-direction: column;
            gap: 2px;
        }

        .p-btn {
            border: none;
            background: none;
            color: #555;
            cursor: pointer;
            font-size: 0.6rem;
        }

        .p-btn:hover {
            color: #fff;
        }

        /* INPUTS */
        .param-group {
            margin-bottom: 15px;
        }

        .param-label {
            display: block;
            font-size: 0.7rem;
            color: #64748b;
            margin-bottom: 5px;
            font-family: 'Orbitron';
        }

        .param-input {
            width: 100%;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid #333;
            color: #fff;
            padding: 10px;
            border-radius: 4px;
            font-family: 'Inter';
        }

        .btn-initiate {
            width: 100%;
            background: linear-gradient(90deg, #f59e0b, #d97706);
            border: none;
            padding: 15px;
            color: #000;
            font-family: 'Orbitron';
            font-weight: 900;
            font-size: 1rem;
            cursor: pointer;
            margin-top: 20px;
            border-radius: 6px;
            transition: all 0.3s;
        }

        .btn-initiate:hover {
            box-shadow: 0 0 20px rgba(245, 158, 11, 0.4);
            letter-spacing: 2px;
            color: #fff;
        }

        /* RESULT SECTION (HIDDEN BY DEFAULT) */
        .result-section {
            margin-top: 50px;
            display: none;
            /* Toggled by JS */
            animation: fadeIn 0.5s ease-out;
        }

        .table-panel {
            background: #0a0a0a;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            overflow: hidden;
        }

        .consolidated-table {
            width: 100%;
            border-collapse: collapse;
        }

        .consolidated-table th,
        .consolidated-table td {
            border: 1px solid #1e293b;
            padding: 12px;
            text-align: center;
            font-size: 0.85rem;
        }

        .consolidated-table th {
            background: #0f172a;
            color: #94a3b8;
            font-family: 'Inter';
            font-weight: 600;
            text-transform: uppercase;
        }

        .th-group-header {
            font-family: 'Orbitron';
            letter-spacing: 1px;
            background: #111 !important;
            color: #ff9e0b !important;
        }

        .consolidated-table td {
            font-family: 'Rajdhani';
            font-weight: 600;
            color: #cbd5e1;
        }

        .editable-cell {
            background: transparent;
            border: 1px solid transparent;
            color: inherit;
            width: 100%;
            text-align: center;
            font-family: inherit;
            font-weight: inherit;
            padding: 5px;
            border-radius: 4px;
            transition: all 0.2s;
        }

        .editable-cell:hover,
        .editable-cell:focus {
            background: #1e293b;
            border-color: #475569;
            outline: none;
        }

        .col-stock {
            background: rgba(0, 0, 0, 0.2);
        }

        .col-in {
            background: rgba(16, 185, 129, 0.05);
            color: #34d399 !important;
        }

        .col-out {
            background: rgba(239, 68, 68, 0.05);
            color: #f87171 !important;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>

<body>

    <!-- LOADING OVERLAY -->
    <div id="loading-overlay" class="loading-overlay">
        <div class="loading-spinner"></div>
        <div class="loading-text-main">WAIT JURAGAN...</div>
        <div class="loading-text-sub">SEDANG AMBIL DATA DARI SHEETS<br>(PASTIKAN JARINGAN LANCAR)</div>
    </div>

    <!-- NAVBAR -->
    <nav class="navbar">
        <a href="homepage-v1.html" class="logo-link">
            <div class="logo-text">
                <span class="brand-smart">SMART WAREHOUSE</span>
                <span class="brand-v2">V2.0</span>
            </div>
        </a>

        <div class="nav-links">
            <!-- MENU DIKOSONGKAN -->
        </div>

        <div class="nav-actions">
            <!-- TOMBOL DIHAPUS -->
        </div>
    </nav>

    <div class="sim-container">

        <div class="page-header">
            <div class="page-title">CPO ADVANCED PROJECTION ENGINE [V.20.05 - FINAL INLINE]</div>
            <div class="page-subtitle">PRIORITIZED WATERFALL SIMULATION & AGING DRAIN</div>
            <div style="font-size:0.7rem; color:#4ade80; margin-top:5px; font-family:'Orbitron';">LAST ENGINE SYNC:
                20:05 WITA</div>
        </div>

        <div class="engine-layout">

            <!-- LEFT PANEL: TANK SELECTION -->
            <div class="engine-panel">
                <div class="panel-title-bar">
                    <div style="color:#ff9e0b;">üõ¢Ô∏è</div>
                    <div class="panel-title">TANK SELECTION</div>
                </div>

                <div class="tank-grid" id="tank-selection-grid">
                    <!-- INJECTED BY JS -->
                </div>

                <div style="margin-top:20px; color:#64748b; font-size:0.8rem; font-style:italic;">
                    Click tanks to add to Filling Queue (Waterfall Logic)
                </div>
            </div>

            <!-- RIGHT PANEL: PRIORITY & PARAMS -->
            <div class="engine-panel">

                <!-- PRIORITY -->
                <div class="panel-title-bar">
                    <div style="color:#ff9e0b;">üî¢</div>
                    <div class="panel-title">FILLING PRIORITY</div>
                </div>

                <div class="priority-list" id="priority-list-container">
                    <!-- INJECTED BY JS -->
                    <div style="text-align:center; color:#444; padding:20px;">No Tanks Selected</div>
                </div>

                <!-- PARAMS -->
                <div class="panel-title-bar" style="margin-top:40px;">
                    <div style="color:#ff9e0b;">‚öôÔ∏è</div>
                    <div class="panel-title">SIMULATION PARAMETERS</div>
                </div>

                <div class="param-group">
                    <label class="param-label">START DATE</label>
                    <input type="date" id="sim-start-date" class="param-input">
                </div>

                <div class="param-group">
                    <label class="param-label">END DATE</label>
                    <input type="date" id="sim-end-date" class="param-input">
                </div>

                <div class="param-group">
                    <label class="param-label">TOTAL DAILY IN (TON)</label>
                    <input type="number" id="sim-daily-in" class="param-input" value="0">
                </div>

                <div class="param-group">
                    <label class="param-label">TOTAL DAILY OUT (TON)</label>
                    <input type="number" id="sim-daily-out" class="param-input" value="0">
                </div>

                <button class="btn-initiate" onclick="CPOSim.initiateProjection()">INITIATE PROJECTION</button>

            </div>

        </div>

    </div>

    <!-- RESULT SECTION (Reused Structure from RM-Sim) -->
    <div id="result-section" class="result-section sim-container">

        <!-- GRAPH -->
        <div
            style="background:rgba(15,23,42,0.8); border:1px solid #333; padding:20px; border-radius:12px; margin-bottom:20px;">
            <h3 style="font-family:'Orbitron'; color:#ff9e0b; margin-bottom:20px; font-size:1rem;">PROJECTED TANK LEVELS
            </h3>
            <div style="height:350px;">
                <canvas id="cpoChart"></canvas>
            </div>
        </div>

        <!-- TABLE CONTROLS -->
        <div style="margin-bottom:15px; display:flex; justify-content:space-between;">
            <div class="panel-title" style="color:#fff;">PROJECTION DATA</div>
            <select id="view-mode" onchange="CPOSim.renderTable()"
                style="background:#000; color:#fff; border:1px solid #333; padding:5px 10px;">
                <option value="detailed">BEDAH SATU-SATU (Detailed)</option>
                <option value="summary">RINGKAS (Summary)</option>
            </select>
        </div>

        <!-- TABLE -->
        <div class="table-panel">
            <div style="overflow-x:auto;">
                <table class="consolidated-table" id="sim-table">
                    <thead id="result-thead"></thead>
                    <tbody id="result-tbody"></tbody>
                </table>
            </div>
        </div>

    </div>

    <!-- SCRIPTS -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        /**
         * CPO SIMULATION INLINE ENGINE [V.20.05]
         * Guaranteed bypass of external JS caching.
         */
        const CPOSim = {
            tanks: [
                { name: "TK01", stock: 72863, cap: 150000, age: 10 },
                { name: "TK02", stock: 96117, cap: 150000, age: 25 },
                { name: "TK03", stock: 103868, cap: 150000, age: 5 },
                { name: "TK04", stock: 272430, cap: 500000, age: 40 },
                { name: "TK05", stock: 0, cap: 500000, age: 0 },
                { name: "TK06", stock: 199626, cap: 500000, age: 15 },
                { name: "TK07", stock: 501021, cap: 500000, age: 30 }
            ],

            selectedTanks: [],
            chartInstance: null,
            overrides: {},

            init: function () {
                console.log("CPO INLINE ENGINE [V.20.05] READY");
                this.renderTankGrid();
                this.setDefaults();
            },

            setDefaults: function () {
                const today = new Date();
                const nextWeek = new Date();
                nextWeek.setDate(today.getDate() + 14);
                document.getElementById('sim-start-date').valueAsDate = today;
                document.getElementById('sim-end-date').valueAsDate = nextWeek;
            },

            renderTankGrid: function () {
                const grid = document.getElementById('tank-selection-grid');
                grid.innerHTML = '';
                this.tanks.forEach((t) => {
                    const isSelected = this.selectedTanks.includes(t.name);
                    const selectionIndex = this.selectedTanks.indexOf(t.name) + 1;
                    const div = document.createElement('div');
                    div.className = `tank-select-card ${isSelected ? 'selected' : ''}`;
                    div.onclick = () => this.toggleSelection(t.name);
                    div.innerHTML = `
                        ${isSelected ? `<div class="tank-card-num">${selectionIndex}</div>` : ''}
                        <div class="tank-card-name">${t.name}</div>
                        <div class="tank-card-stock">${(t.stock / 1000).toLocaleString()} T</div>
                        <div style="font-size:0.65rem; color:#64748b; margin-top:4px;">Umur: ${t.age} Hari</div>
                    `;
                    grid.appendChild(div);
                });
                this.renderPriorityList();
            },

            toggleSelection: function (tankName) {
                if (this.selectedTanks.includes(tankName)) {
                    this.selectedTanks = this.selectedTanks.filter(t => t !== tankName);
                } else {
                    if (this.selectedTanks.length < 7) {
                        this.selectedTanks.push(tankName);
                    }
                }
                this.renderTankGrid();
            },

            movePriority: function (tankName, direction) {
                const idx = this.selectedTanks.indexOf(tankName);
                if (idx < 0) return;
                if (direction === 'up' && idx > 0) {
                    [this.selectedTanks[idx], this.selectedTanks[idx - 1]] = [this.selectedTanks[idx - 1], this.selectedTanks[idx]];
                } else if (direction === 'down' && idx < this.selectedTanks.length - 1) {
                    [this.selectedTanks[idx], this.selectedTanks[idx + 1]] = [this.selectedTanks[idx + 1], this.selectedTanks[idx]];
                }
                this.renderTankGrid();
            },

            renderPriorityList: function () {
                const container = document.getElementById('priority-list-container');
                container.innerHTML = '';
                if (this.selectedTanks.length === 0) {
                    container.innerHTML = '<div style="text-align:center; color:#555; padding:20px; font-style:italic;">Click tanks on the left to add to queue</div>';
                    return;
                }
                this.selectedTanks.forEach((tName, i) => {
                    const div = document.createElement('div');
                    div.className = 'priority-item';
                    div.innerHTML = `
                        <div class="p-num">${i + 1}</div>
                        <div class="p-name">${tName}</div>
                        <div class="p-controls">
                            <button class="p-btn" onclick="CPOSim.movePriority('${tName}', 'up')">‚ñ≤</button>
                            <button class="p-btn" onclick="CPOSim.movePriority('${tName}', 'down')">‚ñº</button>
                        </div>
                    `;
                    container.appendChild(div);
                });
            },

            initiateProjection: function () {
                if (this.selectedTanks.length === 0) {
                    alert("Select at least one tank.");
                    return;
                }
                document.getElementById('result-section').style.display = 'block';
                document.getElementById('result-section').scrollIntoView({ behavior: 'smooth' });
                this.renderTable();
                this.renderChart();
            },

            updateOverride: function (tankName, dateStr, field, value) {
                if (!this.overrides[dateStr]) this.overrides[dateStr] = {};
                if (!this.overrides[dateStr][tankName]) this.overrides[dateStr][tankName] = {};
                this.overrides[dateStr][tankName][field] = parseFloat(value) || 0;
                this.renderTable();
                this.renderChart();
            },

            getDateRange: function () {
                const start = new Date(document.getElementById('sim-start-date').value);
                const end = new Date(document.getElementById('sim-end-date').value);
                const dates = [];
                let curr = new Date(start);
                while (curr <= end) {
                    dates.push(new Date(curr));
                    curr.setDate(curr.getDate() + 1);
                }
                return dates;
            },

            calculateProjection: function () {
                const dates = this.getDateRange();
                const dailyIn = parseFloat(document.getElementById('sim-daily-in').value) || 0;
                const dailyOut = parseFloat(document.getElementById('sim-daily-out').value) || 0;
                const projectionData = [];
                let currentStocks = {};
                this.tanks.forEach(t => currentStocks[t.name] = t.stock / 1000);

                const drainPriority = [...this.selectedTanks].sort((a, b) => {
                    const tankA = this.tanks.find(x => x.name === a);
                    const tankB = this.tanks.find(x => x.name === b);
                    return (tankB.age || 0) - (tankA.age || 0);
                });

                dates.forEach(d => {
                    const dateStr = d.toISOString().split('T')[0];
                    const dailyStats = {};
                    this.selectedTanks.forEach(tName => dailyStats[tName] = { in: 0, out: 0 });
                    let remIn = dailyIn;
                    let remOut = dailyOut;

                    this.selectedTanks.forEach(tName => {
                        if (this.overrides[dateStr] && this.overrides[dateStr][tName]) {
                            const oIn = this.overrides[dateStr][tName].in || 0;
                            const oOut = this.overrides[dateStr][tName].out || 0;
                            currentStocks[tName] += (oIn - oOut);
                            dailyStats[tName] = { in: oIn, out: oOut };
                        }
                    });

                    for (let tName of this.selectedTanks) {
                        if (remIn <= 0) break;
                        if (this.overrides[dateStr] && this.overrides[dateStr][tName]) continue;
                        const t = this.tanks.find(x => x.name === tName);
                        const cap = t.cap / 1000;
                        const space = Math.max(0, cap - currentStocks[tName]);
                        const fill = Math.min(space, remIn);
                        currentStocks[tName] += fill;
                        dailyStats[tName].in = (dailyStats[tName].in || 0) + fill;
                        remIn -= fill;
                    }

                    for (let tName of drainPriority) {
                        if (remOut <= 0) break;
                        if (this.overrides[dateStr] && this.overrides[dateStr][tName]) continue;
                        const avail = Math.max(0, currentStocks[tName]);
                        const drain = Math.min(avail, remOut);
                        currentStocks[tName] -= drain;
                        dailyStats[tName].out = (dailyStats[tName].out || 0) + drain;
                        remOut -= drain;
                    }

                    projectionData.push({ date: d, stocks: { ...currentStocks }, stats: dailyStats });
                });
                return projectionData;
            },

            renderTable: function () {
                const mode = document.getElementById('view-mode').value;
                const thead = document.getElementById('result-thead');
                const tbody = document.getElementById('result-tbody');
                thead.innerHTML = '';
                tbody.innerHTML = '';
                const projectionData = this.calculateProjection();
                this.lastProjectionData = projectionData;

                if (mode === 'summary') {
                    thead.innerHTML = `<tr><th>TANK NAME</th><th>INITIAL</th><th>FINAL</th><th>CHANGE</th><th>STATUS</th></tr>`;
                    this.selectedTanks.forEach(tName => {
                        const t = this.tanks.find(x => x.name === tName);
                        const init = t.stock / 1000;
                        const final = projectionData[projectionData.length - 1].stocks[tName];
                        const diff = final - init;
                        tbody.innerHTML += `<tr><td>${tName}</td><td>${init.toLocaleString()} T</td><td>${final.toLocaleString()} T</td><td>${diff.toLocaleString()}</td><td>${final <= 0 ? 'EMPTY' : 'OK'}</td></tr>`;
                    });
                } else {
                    let row1 = '<tr><th rowspan="2" style="position:sticky; left:0; z-index:10; background:#0f172a; border-right:2px solid #333;">DATE</th>';
                    let row2 = '<tr>';
                    this.selectedTanks.forEach(tName => {
                        row1 += `<th colspan="3" style="background:#111; color:#ff9e0b; border-bottom:1px solid #333;">${tName}</th>`;
                        row2 += `<th style="background:#0a0a0a; color:#cbd5e1; font-size:0.75rem;">STOCK</th><th style="background:#0a0a0a; color:#34d399; font-size:0.75rem;">IN</th><th style="background:#0a0a0a; color:#f87171; font-size:0.75rem;">OUT</th>`;
                    });
                    thead.innerHTML = row1 + '</tr>' + row2 + '</tr>';
                    projectionData.forEach(row => {
                        const dateStr = row.date.toISOString().split('T')[0];
                        const dateDisplay = row.date.toLocaleDateString('en-GB', { day: '2-digit', month: 'short' });
                        const tr = document.createElement('tr');
                        let tds = `<td style="position:sticky; left:0; z-index:5; background:#0a0a0a; border-right:2px solid #333; font-weight:bold; color:#cbd5e1;">${dateDisplay}</td>`;
                        this.selectedTanks.forEach(tName => {
                            const stock = row.stocks[tName];
                            const stats = row.stats[tName];
                            tds += `<td style="background:rgba(255,255,255,0.02);">${stock.toFixed(2)}</td><td style="padding:0;"><input type="number" class="editable-cell" value="${stats.in}" onchange="CPOSim.updateOverride('${tName}', '${dateStr}', 'in', this.value)"></td><td style="padding:0;"><input type="number" class="editable-cell" value="${stats.out}" onchange="CPOSim.updateOverride('${tName}', '${dateStr}', 'out', this.value)"></td>`;
                        });
                        tr.innerHTML = tds;
                        tbody.appendChild(tr);
                    });
                }
            },

            renderChart: function () {
                const ctx = document.getElementById('cpoChart').getContext('2d');
                if (this.chartInstance) this.chartInstance.destroy();
                const labels = this.lastProjectionData.map(d => d.date.toLocaleDateString('en-GB', { day: '2-digit', month: 'short' }));
                const datasets = [];
                const colors = ['#f59e0b', '#ef4444', '#3b82f6', '#10b981', '#8b5cf6', '#ec4899', '#6366f1'];
                this.selectedTanks.forEach((tName, i) => {
                    const t = this.tanks.find(x => x.name === tName);
                    const stockData = this.lastProjectionData.map(row => row.stocks[tName]);
                    const capValue = t.cap / 1000;
                    const capData = this.lastProjectionData.map(() => capValue);
                    const color = colors[i % colors.length];
                    datasets.push({ type: 'bar', label: `${tName} Level`, data: stockData, backgroundColor: color + '80', borderColor: color, borderWidth: 1, order: 2 });
                    datasets.push({ type: 'line', label: `${tName} Cap (${capValue}T)`, data: capData, borderColor: color, borderDash: [5, 5], pointRadius: 0, fill: false, order: 1 });
                });
                this.chartInstance = new Chart(ctx, {
                    data: { labels: labels, datasets: datasets },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: { legend: { labels: { color: '#cbd5e1', font: { size: 10 } } } },
                        scales: { y: { beginAtZero: true, grid: { color: 'rgba(255,255,255,0.05)' }, ticks: { color: '#94a3b8' } }, x: { grid: { display: false }, ticks: { color: '#94a3b8' } } }
                    }
                });
            }
        };

        document.addEventListener('DOMContentLoaded', () => {
            CPOSim.init();
            setTimeout(() => {
                const overlay = document.getElementById('loading-overlay');
                if (overlay) overlay.classList.add('hidden');
            }, 800);
        });
    </script>
</body>

</html>